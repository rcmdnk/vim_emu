<?xml version="1.0"?>
<root>
  <item>
    <name>Settings</name>
    <appendix>At least "Enable Vim Emulation" must be enabled.</appendix>
    <appendix>Then, choose mode change keyes as you like.</appendix>
    <appendix>Note: Simultaneous jk/qw/sd must be used with</appendix>
    <appendix>one of ChangeKey 1, 3, 4, 6, 10-12</appendix>
    <appendix>to leave such Virtual mode.</appendix>
    <appendix>ChangeKey 3 or 6 are useful if you want to use</appendix>
    <appendix>ESC/Ctrl-[ as is in modes other than Insert Mode.</appendix>
    <appendix></appendix>
    <appendix>Currently, all {count} operator is disabled (such 3w to move 3 words).</appendix>
    <appendix>This feature makes too many remaps (9 times for most of moving),</appendix>
    <appendix>and even the mouse moving is affected if you enable these feature.</appendix>
    <appendix>(It makes the response too slow.)</appendix>
    <appendix>If you would try this feature,</appendix>
    <appendix>please remove comment out line in vim_emu/vim_emu_repeat.xml.</appendix>
    <appendix></appendix>
    <appendix>Only APPs {{VIM_EMU_ONLY_APPS}} </appendix>
    <appendix>Ignore APPs {{VIM_EMU_IGNORE_APPS}}</appendix>
  </item>
  <item>
    <name>ChangeKey1: Escape to enter Normal Mode</name>
    <appendix>Holding Esc emulate normal Esc.</appendix>
    <identifier>remap.vim_emu_escape{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Complement Mode -->
        <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::ESCAPE,
          KeyCode::RETURN,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Search Mode -->
        <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::ESCAPE,
          KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Turn Off also IME if enabled -->
        <inputsource_only>JAPANESE</inputsource_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::ESCAPE,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          KeyCode::VK_CHANGE_INPUTSOURCE_JAPANESE,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <!-- Others -->
      <config_not>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_not>
      <autogen>
        __HoldingKeyToKey__ KeyCode::ESCAPE,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
        KeyCode::VK_NONE,
        KeyCode::ESCAPE, Option::NOREPEAT
      </autogen>
    </block>
  </item>
  <item>
    <name>ChangeKey2: Escape to back in Insert Mode from Normal Mode</name>
    <appendix>Use with above, to toggle modes with Escape.</appendix>
    <appendix>Holding Esc emulate normal Esc.</appendix>
    <identifier>remap.vim_emu_escape_toggle{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Normal Mode --> 
        <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
    </block>
  </item>
  <item>
    <name>ChangeKey3: Escape to back in Normal Mode in other than Insert Mode</name>
    <appendix>All parts are overlapped with</appendix>
    <appendix>"Escape to enter Normal Mode",</appendix>
    <appendix>but it doesn't switch on Normal Mode in Insert Mode.</appendix>
    <appendix>Useful to use with simultaneous keys.</appendix>
    <appendix>Holding Esc emulate normal Esc.</appendix>
    <identifier>remap.vim_emu_escape_not_insert{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Complement Mode -->
        <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::ESCAPE,
          KeyCode::RETURN,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Search Mode -->
        <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::ESCAPE,
          KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Other than Insert Mode -->
        <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
    </block>
  </item>
  <item>
    <name>ChangeKey4: Ctrl-[ to enter Normal Mode</name>
    <appendix>Holding Ctrl-[ emulate normal Esc.</appendix>
    <identifier>remap.vim_emu_ctrl_lb{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Complement Mode -->
        <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
          VK_CONTROL,
          KeyCode::RETURN,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Search Mode -->
        <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
          VK_CONTROL,
          KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Turn Off also IME if enabled -->
        <inputsource_only>JAPANESE</inputsource_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
          VK_CONTROL,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          KeyCode::VK_CHANGE_INPUTSOURCE_JAPANESE,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <!-- Others -->
      <autogen>
        __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
        VK_CONTROL,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
        KeyCode::VK_NONE,
        KeyCode::ESCAPE, Option::NOREPEAT
      </autogen>
    </block>
  </item>
  <item>
    <name>ChangeKey5: Ctrl-[ to back in Insert Mode from Normal Mode</name>
    <appendix>Use with above, to toggle modes with Ctrl-[].</appendix>
    <appendix>Holding Ctrl-[ emulate normal Esc.</appendix>
    <identifier>remap.vim_emu_ctrl_lb_toggles{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Normal Mode --> 
        <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
          VK_CONTROL,
          {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
    </block>
  </item>
  <item>
    <name>ChangeKey6: Ctrl-[ to back in Normal mode in other than Insert Mode.</name>
    <appendix>All parts are overlapped with</appendix>
    <appendix>"Ctrl-[ to enter Normal Mode",</appendix>
    <appendix>but it doesn't switch on Normal Mode in Insert Mode.</appendix>
    <appendix>Holding Ctrl-[ emulate normal Esc.</appendix>
    <identifier>remap.vim_emu_ctrl_lb_not_insert{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Complement Mode -->
        <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
          VK_CONTROL,
          KeyCode::RETURN,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Search Mode -->
        <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
          VK_CONTROL,
          KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
      <block> <!-- Other than Insert Mode -->
        <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __HoldingKeyToKey__ KeyCode::BRACKET_LEFT,
          VK_CONTROL,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          KeyCode::VK_NONE,
          KeyCode::ESCAPE, Option::NOREPEAT
        </autogen>
      </block>
    </block>
  </item>
  <item>
    <name>ChangeKey7: Simultaneous jk toggles Insert Mode - Normal Mode</name>
    <appendix>In Virtual or Command mode, nothing happens.</appendix>
    <identifier>remap.vim_emu_jk_toggle{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <!-- __SimultaneousKeyPresses__ makes a problem
         if same combination is defined in different config state.
         If it is set as "Enter Normal Mode" in Insert Mode (no config)
              and set as "Back in Insert Mode" in Normal Mode,
         it shows repeat j/k when push j/k after entering Normal mode.
         Therefore, for simultaneous keys,
         only toggles are used only when Insert/Normal mode.
         As two options have to be toggled,
         it is not possible to support in such Viertual mode.
         Hence, the combination set to do nothing in such Virtual mode.
    -->
    <block>
      <block>
        <config_not>{{VIM_EMU_NOT_NORMAL_MODE}}</config_not>
        <autogen>
          __SimultaneousKeyPresses__
          KeyCode::J, KeyCode::K,
          KeyCode::VK_CONFIG_TOGGLE_notsave_vim_emu{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_TOGGLE_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </autogen>
      </block>
    </block>
  </item>
  <item>
    <name>ChangeKey8: Simultaneous qw toggles Insert Mode - Normal Mode</name>
    <appendix>In Virtual or Command mode, it changes to Insert Mode.</appendix>
    <identifier>remap.vim_emu_qw_toggle{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block>
        <config_not>{{VIM_EMU_NOT_NORMAL_MODE}}</config_not>
        <autogen>
          __SimultaneousKeyPresses__
          KeyCode::Q, KeyCode::W,
          KeyCode::VK_CONFIG_TOGGLE_notsave_vim_emu{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_TOGGLE_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </autogen>
      </block>
    </block>
  </item>
  <item>
    <name>ChangeKey9: Simultaneous sd toggles Insert Mode - Normal Mode</name>
    <appendix>In Virtual or Command mode, nothing happens.</appendix>
    <identifier>remap.vim_emu_sd_toggle{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block>
        <config_not>{{VIM_EMU_NOT_NORMAL_MODE}}</config_not>
        <autogen>
          __SimultaneousKeyPresses__
          KeyCode::S, KeyCode::D,
          KeyCode::VK_CONFIG_TOGGLE_notsave_vim_emu{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_TOGGLE_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </autogen>
      </block>
    </block>
  </item>
  <item>
    <name>ChangeKey10: Ctrl-l toggles Insert Mode - Normal Mode</name>
    <appendix>In Virtual or Command mode, nothing happens.</appendix>
    <identifier>remap.vim_emu_ctrl_l_toggles{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Vim Mode --> 
        <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen> <!-- Other case -->
          __KeyToKey__ KeyCode::L,
          VK_CONTROL,
          {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
        </autogen>
      </block>
      <block> <!-- Complement Mode -->
        <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __KeyToKey__ KeyCode::L,
          VK_CONTROL,
          KeyCode::RETURN,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </autogen>
      </block>
      <block> <!-- Search Mode -->
        <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __KeyToKey__ KeyCode::L,
          VK_CONTROL,
          KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
        </autogen>
      </block>
      <block> <!-- Turn Off also IME if enabled -->
        <inputsource_only>JAPANESE</inputsource_only>
        <autogen>
          __KeyToKey__ KeyCode::L,
          VK_CONTROL,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          KeyCode::VK_CHANGE_INPUTSOURCE_JAPANESE,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
        </autogen>
      </block>
      <autogen> <!-- Other case -->
        __KeyToKey__ KeyCode::L,
        VK_CONTROL,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
      </autogen>
    </block>
  </item>
  <item>
    <name>ChangeKey11: Left Cmd toggles Insert Mode - Normal Mode</name>
    <appendix>In Virtual or Command mode, it changes to Insert Mode.</appendix>
    <identifier>remap.vim_emu_l_cmd_toggles{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Vim Mode --> 
        <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen> <!-- Other case -->
          __KeyOverlaidModifier__
          KeyCode::COMMAND_L,
          KeyCode::COMMAND_L, <!-- Need one key shot to use as modifier -->
          {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
        </autogen>
      </block>
      <block> <!-- Complement Mode -->
        <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __KeyOverlaidModifier__
          KeyCode::COMMAND_L,
          KeyCode::COMMAND_L,
          KeyCode::RETURN,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </autogen>
      </block>
      <block> <!-- Search Mode -->
        <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __KeyOverlaidModifier__
          KeyCode::COMMAND_L,
          KeyCode::COMMAND_L,
          KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
        </autogen>
      </block>
      <block> <!-- Turn Off also IME if enabled -->
        <inputsource_only>JAPANESE</inputsource_only>
        <autogen>
          __KeyOverlaidModifier__
          KeyCode::COMMAND_L,
          KeyCode::COMMAND_L,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          KeyCode::VK_CHANGE_INPUTSOURCE_JAPANESE,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
        </autogen>
      </block>
      <autogen> <!-- Other case -->
        __KeyOverlaidModifier__
        KeyCode::COMMAND_L,
        KeyCode::COMMAND_L,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
      </autogen>
    </block>
  </item>
  <item>
    <name>ChangeKey12: Rgiht Cmd toggles Insert Mode - Normal Mode</name>
    <appendix>In Virtual or Command mode, it changes to Insert Mode.</appendix>
    <identifier>remap.vim_emu_r_cmd_toggles{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <block> <!-- Vim Mode --> 
        <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen> <!-- Other case -->
          __KeyOverlaidModifier__
          KeyCode::COMMAND_R,
          KeyCode::COMMAND_R,
          {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
        </autogen>
      </block>
      <block> <!-- Complement Mode -->
        <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __KeyOverlaidModifier__
          KeyCode::COMMAND_R,
          KeyCode::COMMAND_R,
          KeyCode::RETURN,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </autogen>
      </block>
      <block> <!-- Search Mode -->
        <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __KeyOverlaidModifier__
          KeyCode::COMMAND_R,
          KeyCode::COMMAND_R,
          KeyCode::ESCAPE,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
        </autogen>
      </block>
      <block> <!-- Turn Off also IME if enabled -->
        <inputsource_only>JAPANESE</inputsource_only>
        <autogen>
          __KeyOverlaidModifier__
          KeyCode::COMMAND_R,
          KeyCode::COMMAND_R,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          KeyCode::VK_CHANGE_INPUTSOURCE_JAPANESE,
          KeyCode::VK_CHANGE_INPUTSOURCE_ENGLISH,
          {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
        </autogen>
      </block>
      <autogen> <!-- Other case -->
        __KeyOverlaidModifier__
        KeyCode::COMMAND_R,
        KeyCode::COMMAND_R,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
      </autogen>
    </block>
  </item>

  <item>
    <name>Enable Vim Emulation</name>
    <identifier>remap.vim_emu_{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>

    <block> <!-- Insert Mode (OS Normal State) Begin -->
      <!-- Insert Mode: Complement Begin -->
      <config_not>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_not>
      <autogen>
        __KeyToKey__ KeyCode::N,
        VK_CONTROL|ModifierFlag::NONE,
        KeyCode::ESCAPE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::P,
        VK_CONTROL|ModifierFlag::NONE,
        KeyCode::ESCAPE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <!-- Insert Mode: Complement End -->
    </block> <!-- Insert Mode End -->

    <block> <!-- Complement Mode Begin -->
      <config_only>notsave.vim_emu_complement{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen>
        __KeyToKey__ KeyCode::N,
        VK_CONTROL|ModifierFlag::NONE,
        KeyCode::CURSOR_DOWN,
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::P,
        VK_CONTROL|ModifierFlag::NONE,
        KeyCode::CURSOR_UP,
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::H,
        VK_CONTROL|ModifierFlag::NONE,
        KeyCode::ESCAPE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::RETURN, ModifierFlag::NONE,
        KeyCode::RETURN,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_complement{{VIM_EMU_ALTCONFIG}},
      </autogen>
    </block> <!-- Complement Mode End -->

    <block> <!-- Search Mode Begin -->
      <config_only>notsave.vim_emu_search{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen>
        __KeyToKey__ KeyCode::RETURN, ModifierFlag::NONE,
        KeyCode::RETURN,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
    </block> <!-- Search End -->

    <!-- Enter G Mode Begin -->
    <block>
      <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
      <config_not>notsave.vim_emu_G{{VIM_EMU_ALTCONFIG}}</config_not>
      <autogen>
        __KeyToKey__ KeyCode::G, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_G{{VIM_EMU_ALTCONFIG}},
      </autogen>
    </block>
    <!-- Enter G Mode End -->

    <block> <!-- Normal Mode Begin -->
      <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
      <config_not>notsave.vim_emu_Y{{VIM_EMU_ALTCONFIG}}</config_not>
      <config_not>notsave.vim_emu_D{{VIM_EMU_ALTCONFIG}}</config_not>
      <config_not>notsave.vim_emu_C{{VIM_EMU_ALTCONFIG}}</config_not>

      <!-- Normal Mode: Cursor Move Begin -->
      <include path="vim_emu_move.xml"></include>
      <!-- Normal Mode: Cursor Move End -->

      <!-- Normal Mode: Enter INSERT Mode, i/I/a/A/o/O -->
      <autogen>
        __KeyToKey__ KeyCode::I, ModifierFlag::NONE,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::I,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::CURSOR_LEFT, VK_COMMAND,
        KeyCode::CURSOR_RIGHT, VK_OPTION,
        KeyCode::CURSOR_LEFT, VK_OPTION,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::A, ModifierFlag::NONE,
        KeyCode::CURSOR_RIGHT,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::A,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::CURSOR_RIGHT, VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::O, ModifierFlag::NONE,
        KeyCode::CURSOR_RIGHT, VK_COMMAND, KeyCode::RETURN,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::O,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::CURSOR_UP, KeyCode::CURSOR_RIGHT, VK_COMMAND,
        KeyCode::RETURN,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <!-- Normal Mode: Enter INSERT Mode End -->

      <!-- Normal Mode: Enter Visual Mode -->
      <autogen>
        __KeyToKey__ KeyCode::V, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_visual{{VIM_EMU_ALTCONFIG}},
        KeyCode::CURSOR_RIGHT, VK_SHIFT,
      </autogen>
      <!-- Normal Mode: Enter Visual Mode End -->

      <!-- Normal Mode: Enter Visual Line Mode Begin -->
      <autogen>
        __KeyToKey__ KeyCode::V,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_visual_line{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
        KeyCode::CURSOR_LEFT, VK_COMMAND,
        KeyCode::CURSOR_DOWN, VK_SHIFT,
      </autogen>
      <!-- Normal Mode: Enter Visual Line Mode End -->

      <!-- Normal Mode: Enter Command Mode Begin -->
      <autogen>
        __KeyToKey__ KeyCode::SEMICOLON,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_command{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::JIS_COLON,ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_command{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <!-- Normal Mode: Enter Command Mode End -->

      <!-- Normal Mode: Save, Quit Begin -->
      <autogen> <!-- Quit -->
        __KeyToKey__ KeyCode::Z,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::VK_LOCK_EXTRA2_FORCE_ON
      </autogen>
      <autogen> <!-- Save and Quit -->
        __KeyToKey__ KeyCode::Z, ModifierFlag::EXTRA2|
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::S, VK_COMMAND,
        KeyCode::W, VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_MODE}}
      </autogen>
      <autogen> <!-- Quit -->
        __KeyToKey__ KeyCode::Q, ModifierFlag::EXTRA2|
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::W, VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_MODE}}
      </autogen>
      <autogen> <!-- Escape from EXTRA2 -->
        __KeyToKey__ KeyCode::ESCAPE, ModifierFlag::EXTRA2,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
      </autogen>
      <autogen> <!-- Escape from EXTRA2 -->
        __KeyToKey__ KeyCode::BRACKET_LEFT, VK_CONTROL|ModifierFlag::EXTRA2,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}}
      </autogen>
      <!-- Normal Mode: Save, Quit End -->

      <!-- Normal Mode: Search Begin -->
      <autogen>
        __KeyToKey__ KeyCode::SLASH, ModifierFlag::NONE,
        KeyCode::F, VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen> <!-- German keyboards' slash -->
        __KeyToKey__ KeyCode::KEY_7,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::F, VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::N, ModifierFlag::NONE,
        KeyCode::G, VK_COMMAND,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::N,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::G, VK_SHIFT|VK_COMMAND,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_8,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::CURSOR_LEFT, VK_OPTION,
        KeyCode::CURSOR_RIGHT, VK_OPTION|VK_SHIFT,
        KeyCode::C, VK_COMMAND,
        KeyCode::F, VK_COMMAND,
        KeyCode::V, VK_COMMAND,
        KeyCode::RETURN,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen> <!-- * for JIS -->
        __KeyToKey__ KeyCode::JIS_COLON,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::CURSOR_LEFT, VK_OPTION,
        KeyCode::CURSOR_RIGHT, VK_OPTION|VK_SHIFT,
        KeyCode::C, VK_COMMAND,
        KeyCode::F, VK_COMMAND,
        KeyCode::V, VK_COMMAND,
        KeyCode::RETURN,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen> <!-- * for GERMAN -->
        __KeyToKey__ KeyCode::BRACKET_RIGHT,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::CURSOR_LEFT, VK_OPTION,
        KeyCode::CURSOR_RIGHT, VK_OPTION|VK_SHIFT,
        KeyCode::C, VK_COMMAND,
        KeyCode::F, VK_COMMAND,
        KeyCode::V, VK_COMMAND,
        KeyCode::RETURN,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_search{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <!-- Normal Mode: Search End -->

      <!-- Normal Mode: YANK Fix Begin -->
      <autogen> <!-- Fix Y -->
        __KeyToKey__ KeyCode::Y,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::A, VK_CONTROL|VK_SHIFT,
        KeyCode::E, VK_CONTROL|VK_SHIFT,
        KeyCode::C, VK_COMMAND,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_line_copy{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <!-- Normal Mode: YANK Fix End -->

      <!-- Normal Mode: Cut One Character Begin -->
      <autogen>
        __KeyToKey__ KeyCode::X, ModifierFlag::NONE,
        KeyCode::FORWARD_DELETE,
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::X,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::DELETE,
      </autogen>
      <!-- s/S -->
      <autogen>
        __KeyToKey__ KeyCode::S, ModifierFlag::NONE,
        KeyCode::FORWARD_DELETE,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::S,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::A, VK_CONTROL,
        KeyCode::E, VK_CONTROL|VK_SHIFT,
        KeyCode::X, VK_COMMAND,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_line_copy{{VIM_EMU_ALTCONFIG}},
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <!-- Normal Mode: Cut One Character End -->

      <block> <!-- Normal Mode: Paste Line Begin -->
        <config_only>notsave.vim_emu_line_copy{{VIM_EMU_ALTCONFIG}}</config_only>
        <autogen>
          __KeyToKey__ KeyCode::P, ModifierFlag::NONE,
          KeyCode::CURSOR_LEFT, VK_COMMAND,
          KeyCode::CURSOR_DOWN,
          KeyCode::V, VK_COMMAND,
          KeyCode::RETURN, KeyCode::CURSOR_UP,
        </autogen>
        <autogen>
          __KeyToKey__ KeyCode::P, VK_SHIFT,
          KeyCode::CURSOR_LEFT, VK_COMMAND,
          KeyCode::V, VK_COMMAND,
          KeyCode::RETURN, KeyCode::CURSOR_UP,
        </autogen>
      </block> <!-- Normal Mode: Paste Line End -->

      <block> <!-- Normal Mode: Paste Word Begin -->
        <config_not>notsave.vim_emu_line_copy{{VIM_EMU_ALTCONFIG}}</config_not>
        <autogen>
          __KeyToKey__ KeyCode::P, ModifierFlag::NONE,
          KeyCode::CURSOR_RIGHT, KeyCode::V, VK_COMMAND,KeyCode::CURSOR_LEFT
        </autogen>
        <autogen>
          __KeyToKey__ KeyCode::P,
          VK_SHIFT|ModifierFlag::NONE,
          KeyCode::V, VK_COMMAND,KeyCode::CURSOR_LEFT
        </autogen>
      </block> <!-- Normal Mode: Paste Word End -->

      <!-- Normal Mode: Undo/Redo Begin -->
      <autogen> __KeyToKey__ KeyCode::U, ModifierFlag::NONE,
        KeyCode::Z, VK_COMMAND,
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::U,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::Z, VK_COMMAND,
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::R,
        VK_CONTROL|ModifierFlag::NONE,
        KeyCode::Z, VK_SHIFT|VK_COMMAND,
      </autogen>
      <!-- Normal Mode: Undo/Redo End -->

      <!-- Normal Mode: Line Combining Begin -->
      <autogen>
        __KeyToKey__ KeyCode::J,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::CURSOR_RIGHT, VK_COMMAND,
        KeyCode::SPACE, KeyCode::FORWARD_DELETE, VK_SHIFT,
        KeyCode::CURSOR_LEFT,
      </autogen>
      <!-- Normal Mode: Line Combining End -->

      <!-- Normal Mode: Period (DOT) Begin -->
      <!-- Delete next word, paste  current clipboard -->
      <autogen>
        __KeyToKey__ KeyCode::DOT, ModifierFlag::NONE,
        KeyCode::CURSOR_RIGHT, VK_SHIFT|VK_OPTION,
        KeyCode::DELETE, KeyCode::V, VK_COMMAND
      </autogen>
      <!-- Normal Mode: Period (DOT) End -->

      <!-- Normal Mode: Replace Begin -->
      <autogen>
        __KeyToKey__ KeyCode::R, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_R{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::R,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_S_R{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <!-- Normal Mode: Replace End -->
    </block> <!-- Normal Mode End -->

    <!-- YANK Mode Begin -->
    <include path="vim_emu_ydc_mode.xml">
      <replacementdef>
        <replacementname>VIM_EMU_YDC_CHAR</replacementname>
        <replacementvalue>Y</replacementvalue>
      </replacementdef>
      <replacementdef>
        <replacementname>VIM_EMU_AFTER_MOVE</replacementname>
        <replacementvalue>
          KeyCode::C, VK_COMMAND,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_Y{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </replacementvalue>
      </replacementdef>
    </include>
    <!-- YANK Mode End -->

    <!-- DELETE Mode Begin -->
    <block>
      <config_only>notsave.vim_emu_D{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen> <!-- Fix dd -->
        __KeyToKey__ KeyCode::D, ModifierFlag::NONE,
        KeyCode::A, VK_CONTROL,
        KeyCode::E, VK_CONTROL|VK_SHIFT,
        KeyCode::X, VK_COMMAND,
        KeyCode::FORWARD_DELETE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_D{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_line_copy{{VIM_EMU_ALTCONFIG}},
      </autogen>
    </block>
    <include path="vim_emu_ydc_mode.xml">
      <replacementdef>
        <replacementname>VIM_EMU_YDC_CHAR</replacementname>
        <replacementvalue>D</replacementvalue>
      </replacementdef>
      <replacementdef>
        <replacementname>VIM_EMU_AFTER_MOVE</replacementname>
        <replacementvalue>
          KeyCode::X, VK_COMMAND,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_D{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </replacementvalue>
      </replacementdef>
    </include>
    <!-- DELETE Mode End -->

    <!-- CHANGE Mode Begin -->
    <block>
      <config_only>notsave.vim_emu_C{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen> <!-- Fix cw -->
        __KeyToKey__ KeyCode::W, ModifierFlag::NONE,
        KeyCode::CURSOR_RIGHT, VK_SHIFT|VK_OPTION,
        KeyCode::X, VK_COMMAND,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_C{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
      </autogen>
    </block>
    <include path="vim_emu_ydc_mode.xml">
      <replacementdef>
        <replacementname>VIM_EMU_YDC_CHAR</replacementname>
        <replacementvalue>C</replacementvalue>
      </replacementdef>
      <replacementdef>
        <replacementname>VIM_EMU_AFTER_MOVE</replacementname>
        <replacementvalue>
          KeyCode::X, VK_COMMAND,
          KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_C{{VIM_EMU_ALTCONFIG}},
          KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
        </replacementvalue>
      </replacementdef>
    </include>
    <!-- CHANGE Mode End -->

    <block> <!-- Visual Mode Begin -->
      <config_only>notsave.vim_emu_visual{{VIM_EMU_ALTCONFIG}}</config_only>

      <!-- Visual Mode: Copy and Paste Begin -->
      <include path="vim_emu_copy_cut.xml"></include>
      <!-- Visual Mode: Copy and Paste End -->

      <!-- Visual Mode: Move Fix PageUp/Down Begin -->
      <include path="vim_emu_repeat.xml">
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::B, VK_CONTROL|ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_OUTPUT</replacementname>
          <replacementvalue>
            KeyCode::PAGEUP, VK_SHIFT,
          </replacementvalue>
        </replacementdef>
      </include>
      <include path="vim_emu_repeat.xml">
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::F, VK_CONTROL|ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_OUTPUT</replacementname>
          <replacementvalue>
            KeyCode::PAGEDOWN, VK_SHIFT,
          </replacementvalue>
        </replacementdef>
      </include>
      <!-- Visual Mode: Move Fix PageUp/Down End -->

      <!-- Visual Mode: Move Begin -->
      <include path="vim_emu_move.xml">
        <replacementdef>
          <replacementname>VIM_EMU_USE_SHIFT</replacementname>
          <replacementvalue>VK_SHIFT|</replacementvalue>
        </replacementdef>
      </include>
      <!-- Visual Mode: Move End -->
    </block> <!-- Visual Mode End -->

    <block> <!-- Visual Line Mode (for first command) Begin -->
      <config_only>notsave.vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}}</config_only>
      <!-- Visual Line Mode: Fix PageUp Begin -->
      <include path="vim_emu_repeat.xml">
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::B, VK_CONTROL|ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_OUTPUT</replacementname>
          <replacementvalue>
            KeyCode::PAGEUP, VK_SHIFT,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE_MOVE</replacementname>
          <replacementvalue>
            KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
            KeyCode::CURSOR_RIGHT, VK_COMMAND,
            KeyCode::CURSOR_RIGHT,
            KeyCode::CURSOR_UP, |VK_SHIFT,
          </replacementvalue>
        </replacementdef>
      </include>
      <!-- Visual Line Mode: Fix PageUp End -->
      <!-- Visual Line Mode: Move Begin -->
      <include path="vim_emu_move_up.xml">
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE_MOVE</replacementname>
          <replacementvalue>
            KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
            KeyCode::CURSOR_RIGHT, VK_COMMAND,
            KeyCode::CURSOR_RIGHT,
            KeyCode::CURSOR_UP, |VK_SHIFT,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_USE_SHIFT</replacementname>
          <replacementvalue>VK_SHIFT|</replacementvalue>
        </replacementdef>
      </include>
      <!-- Visual Line Mode: Move End -->
    </block> <!-- Visual Line Mode (for first command) End -->
    <block> <!-- Visual Line Mode Begin -->
      <config_only>notsave.vim_emu_visual_line{{VIM_EMU_ALTCONFIG}}</config_only>
      <!-- Visual Line Mode: Copy and Paste Begin -->
      <include path="vim_emu_copy_cut.xml">
        <replacementdef>
          <replacementname>VIM_EMU_LINECOPY</replacementname>
          <replacementvalue>
            KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_line_copy{{VIM_EMU_ALTCONFIG}}
          </replacementvalue>
        </replacementdef>
      </include>
      <!-- Visual Line Mode: Copy and Paste End -->

      <!-- Visual Line Mode: Fix PageUp/Down Begin -->
      <include path="vim_emu_repeat.xml">
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::B, VK_CONTROL|ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_OUTPUT</replacementname>
          <replacementvalue>
            KeyCode::PAGEUP, VK_SHIFT,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE_MOVE</replacementname>
          <replacementvalue>
            KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
          </replacementvalue>
        </replacementdef>
      </include>
      <include path="vim_emu_repeat.xml">
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::F, VK_CONTROL|ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_OUTPUT</replacementname>
          <replacementvalue>
            KeyCode::PAGEDOWN, VK_SHIFT,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE_MOVE</replacementname>
          <replacementvalue>
            KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
          </replacementvalue>
        </replacementdef>
      </include>
      <autogen>
        __KeyToKey__
        KeyCode::M, VK_SHIFT|ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
        KeyCode::PAGEDOWN, VK_SHIFT,
        KeyCode::PAGEUP, VK_SHIFT,
      </autogen>
      <!-- Visual Line Mode: Fix PageUp/Down End -->

      <!-- Visual Line Mode: Move Begin -->
      <include path="vim_emu_move_up.xml">
        <replacementdef>
          <replacementname>VIM_EMU_USE_SHIFT</replacementname>
          <replacementvalue>VK_SHIFT|</replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE_MOVE</replacementname>
          <replacementvalue>
            KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
          </replacementvalue>
        </replacementdef>
      </include>
      <include path="vim_emu_move_down.xml">
        <replacementdef>
          <replacementname>VIM_EMU_USE_SHIFT</replacementname>
          <replacementvalue>VK_SHIFT|</replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE_MOVE</replacementname>
          <replacementvalue>
            KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_visual_line_first{{VIM_EMU_ALTCONFIG}},
          </replacementvalue>
        </replacementdef>
      </include>
      <!-- Visual Line Mode: Move End -->
    </block> <!-- Visual Line Mode -->

    <block> <!-- Command Mode Begin -->
      <config_only>notsave.vim_emu_command{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen> <!-- w (Used with below: EXTRA1 Modifier) -->
        __KeyToKey__ KeyCode::W, ModifierFlag::NONE,
        KeyCode::VK_LOCK_EXTRA1_FORCE_ON
      </autogen>
      <autogen> <!-- Save -->
        __KeyToKey__ KeyCode::RETURN, ModifierFlag::EXTRA1|ModifierFlag::NONE,
        KeyCode::S, VK_COMMAND,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
      </autogen>
      <autogen> <!-- Save As -->
        __KeyToKey__ KeyCode::SPACE, ModifierFlag::EXTRA1|ModifierFlag::NONE,
        KeyCode::S, VK_SHIFT|VK_COMMAND,
        {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
      </autogen>
      <autogen> <!-- Save and Quit -->
        __KeyToKey__ KeyCode::Q, ModifierFlag::EXTRA1|ModifierFlag::NONE,
        KeyCode::S, VK_COMMAND,
        KeyCode::W, VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen> <!-- Quit -->
        __KeyToKey__ KeyCode::Q, ModifierFlag::NONE,
        KeyCode::W, VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
      <autogen> <!-- Help -->
        __KeyToKey__ KeyCode::H, ModifierFlag::NONE,
        KeyCode::SLASH, VK_SHIFT|VK_COMMAND,
        {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}}
      </autogen>
    </block> <!-- Command Mode End -->

    <block> <!-- Replace One Mode Begin -->
      <config_only>notsave.vim_emu_R{{VIM_EMU_ALTCONFIG}}</config_only>
      <include path="vim_emu_key_wrap.xml">
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE</replacementname>
          <replacementvalue>
            KeyCode::FORWARD_DELETE,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_AFTER</replacementname>
          <replacementvalue>
            {{VIM_EMU_FORCE_ON_NORMAL_MODE}},
          </replacementvalue>
        </replacementdef>
      </include>
    </block> <!-- Replace One Mode End -->
    <block> <!-- Replace Mode Begin -->
      <config_only>notsave.vim_emu_S_R{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen>
        __KeyToKey__ KeyCode::H,
        VK_SHIFT|ModifierFlag::NONE,
        KeyCode::Z, VK_COMMAND,
      </autogen>
      <include path="vim_emu_key_wrap.xml">
        <replacementdef>
          <replacementname>VIM_EMU_BEFORE</replacementname>
          <replacementvalue>
            KeyCode::FORWARD_DELETE,
          </replacementvalue>
        </replacementdef>
        <replacementdef>
          <replacementname>VIM_EMU_AFTER</replacementname>
          <replacementvalue>
          </replacementvalue>
        </replacementdef>
      </include>
    </block> <!-- Replace Mode End -->
  </item> <!-- Enable Vim Emulation -->

  <item>
    <name>Enable Vim Visual Block Mode</name>
    <appendix>Use with ESC/C-[ above and "Enable Vim Emulation"</appendix>
    <appendix>Visual Block starts from where mouse cursor is,</appendix>
    <appendix>instead of where cursor in editer is.</appendix>
    <identifier>remap.vim_emu_vb{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
    <!-- Cmd-v: Enter Visual Block Mode -->
    <autogen>
      __KeyToKey__ KeyCode::V,
      VK_CONTROL|ModifierFlag::NONE,
      KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_normal{{VIM_EMU_ALTCONFIG}},
      KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_visual_block{{VIM_EMU_ALTCONFIG}},
      KeyCode::VK_LOCK_COMMAND_L_FORCE_ON,
      KeyCode::VK_LOCK_OPTION_L_FORCE_ON,
      KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
    </autogen>
    <block>
      <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
      <block> <!-- Visual Block Mode -->
        <config_only>notsave.vim_emu_visual_block{{VIM_EMU_ALTCONFIG}}</config_only>
        <!-- Copy and Paste -->
        <include path="vim_emu_copy_cut.xml">
          <replacementdef>
            <replacementname>VIM_EMU_ADDITIONAL_MODIFIER</replacementname>
            <replacementvalue>
              VK_OPTION|VK_COMMAND|
            </replacementvalue>
          </replacementdef>
          <replacementdef>
            <replacementname>VIM_EMU_BEFORE_COPY_CUT</replacementname>
            <replacementvalue>
              KeyCode::VK_LOCK_ALL_FORCE_OFF,
              KeyCode::VK_MOUSEKEY_LOCK_BUTTON_ALL_FORCE_OFF,
            </replacementvalue>
          </replacementdef>
        </include>
        <autogen>
          __KeyToKey__ KeyCode::H, KeyCode::VK_MOUSEKEY_LEFT
        </autogen>
        <autogen>
          __KeyToKey__ KeyCode::J, KeyCode::VK_MOUSEKEY_DOWN
        </autogen>
        <autogen>
          __KeyToKey__ KeyCode::K, KeyCode::VK_MOUSEKEY_UP
        </autogen>
        <autogen>
          __KeyToKey__ KeyCode::L, KeyCode::VK_MOUSEKEY_RIGHT
        </autogen>
      </block> <!-- Visual Block Mode -->
    </block>
  </item> <!-- Enable Vim Visual Block Mode -->

  <item>
    <name>Enable Vim Recording Macro</name>
    <appendix>q in Normal mode to start recording key inputs.</appendix>
    <appendix>q in Normal mode to stop recording key inputs.</appendix>
    <appendix>@ to execute recorded key inputs.</appendix>
    <appendix>n@ (n=2-9) to execute recorded key inputs n-times.</appendix>
    <appendix>Need additional application like MadRuby.</appendix>
    <appendix>MadRuby: http://www.wingsforpigs.com/MadRuby/MadRuby.html</appendix>
    <appendix>Set Keyboard Shortcuts like:</appendix>
    <appendix>    Start Recording: Ctrl-Shift-Cmd-6</appendix>
    <appendix>     Stop Recording: Ctrl-Shift-Cmd-7</appendix>
    <appendix>         Play Macro: Ctrl-Shift-Cmd-8</appendix>
    <appendix>Multiple Play Macro: Ctrl-Shift-Cmd-9</appendix>
    <identifier>remap.vim_emu_record{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
      <config_not>notsave.vim_emu_record{{VIM_EMU_ALTCONFIG}}</config_not>
      <autogen>
        __KeyToKey__ KeyCode::Q, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_record{{VIM_EMU_ALTCONFIG}},
        KeyCode::KEY_6, VK_CONTROL|
        VK_SHIFT|VK_COMMAND
      </autogen>
    </block>
    <block>
      <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
      <config_only>notsave.vim_emu_record{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen>
        __KeyToKey__ KeyCode::Q, ModifierFlag::NONE,
        KeyCode::KEY_7, VK_CONTROL|
        VK_SHIFT|VK_COMMAND,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_vim_emu_record{{VIM_EMU_ALTCONFIG}},
      </autogen>
    </block>

    <block>
      <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
      <include path="vim_emu_repeat_macro.xml">
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::KEY_2, VK_SHIFT|ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
      </include>
      <include path="vim_emu_repeat_macro.xml"><!-- for JIS -->
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::JIS_ATMARK, ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
      </include>
      <include path="vim_emu_repeat_macro.xml"><!-- for German -->
        <replacementdef>
          <replacementname>VIM_EMU_REPEAT_INPUT</replacementname>
          <replacementvalue>
            KeyCode::Q, VK_OPTION|ModifierFlag::NONE,
          </replacementvalue>
        </replacementdef>
      </include>
    </block>
  </item>
  <!--
  <item>
    <name>Enable Vim Repeat</name>
    <identifier>remap.vim_emu_repeat{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
      <autogen>
        __KeyToKey__ KeyCode::KEY_2, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_2{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_3, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_3{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_4, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_4{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_5, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_5{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_6, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_6{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_7, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_7{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_8, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_8{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
      <autogen>
        __KeyToKey__ KeyCode::KEY_9, ModifierFlag::NONE,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_9{{VIM_EMU_ALTCONFIG}},
        KeyCode::VK_CONFIG_FORCE_ON_notsave_vim_emu_repeat{{VIM_EMU_ALTCONFIG}},
      </autogen>
    </block>
  </item>
  -->

  <item>
    <name>Disable all other non-assigned keys in other than Inser Mode</name>
    <identifier>remap.vim_emu_disable{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <block>
      <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
      <!-- *************************************** -->
      <!-- Disable all other keys -->
      <include path="vim_emu_replace.xml">
        <replacementdef>
          <replacementname>VIM_EMU_REPLACE</replacementname>
          <replacementvalue>KeyCode::VK_NONE</replacementvalue>
        </replacementdef>
      </include>
    </block>
  </item>
  <item>
    <name>Control + [ to Esc for non-vim_emu apps</name>
    <identifier>remap.vim_emu_ctl_[_to_Esc_non_vim_emu{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_IGNORE_APPS}}</only>
    <not>{{VIM_EMU_ONLY_APPS}}</not>
    <autogen>
      __KeyToKey__ KeyCode::BRACKET_LEFT,
      VK_CONTROL|ModifierFlag::NONE,
      KeyCode::ESCAPE
    </autogen>
  </item>
  <item>
    <name>Control + [ to Esc for Normal mode</name>
    <identifier>remap.vim_emu_ctl_[_to_Esc_normal_mode{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_ONLY_APPS}}</only>
    <not>{{VIM_EMU_IGNORE_APPS}}</not>
    <config_only>notsave.vim_emu_normal{{VIM_EMU_ALTCONFIG}}</config_only>
    <autogen>
      __KeyToKey__ KeyCode::BRACKET_LEFT,
      VK_CONTROL|ModifierFlag::NONE,
      KeyCode::ESCAPE
    </autogen>
  </item>
  <item>
    <name>Reset vim_emu at non-vim_emu apps</name>
    <appendix>When any buttons are pushed at non-vim_emu apps,</appendix>
    <appendix>it resets vim_emu (change to Insert Mode)</appendix>
    <appendix>for vim_emu apps. (no effect on non-vim_emu apps.</appendix>
    <identifier>remap.vim_emu_off_at_non_vim_emu_apps{{VIM_EMU_ALTCONFIG}}</identifier>
    <only>{{VIM_EMU_IGNORE_APPS}}</only>
    <not>{{VIM_EMU_ONLY_APPS}}</not>
    <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
    <include path="vim_emu_key_click_wrap.xml">
      <replacementdef>
        <replacementname>VIM_EMU_BEFORE</replacementname>
        <replacementvalue>
          {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}},
        </replacementvalue>
      </replacementdef>
      <replacementdef>
        <replacementname>VIM_EMU_AFTER</replacementname>
        <replacementvalue>
        </replacementvalue>
      </replacementdef>
    </include>
  </item>
  <item>
    <name>Reset vim_emu at left click in any case</name>
    <identifier>remap.vim_emu_off_with_left_click{{VIM_EMU_ALTCONFIG}}</identifier>
    <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
    <autogen>
      __PointingButtonToKey__ PointingButton::LEFT,
      {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}},
      KeyCode::VK_MOUSEKEY_BUTTON_LEFT,
    </autogen>
  </item>
  <item>
    <name>Reset vim_emu at Cmd-Tab in any case</name>
    <identifier>remap.vim_emu_off_with_cmd_tab{{VIM_EMU_ALTCONFIG}}</identifier>
    <config_only>notsave.vim_emu{{VIM_EMU_ALTCONFIG}}</config_only>
    <autogen>
      __KeyToKey__ KeyCode::TAB,
      VK_COMMAND|ModifierFlag::NONE,
      {{VIM_EMU_FORCE_OFF_ALL_BUT_LINE}},
      KeyCode::TAB, VK_COMMAND,
    </autogen>
  </item>
</root>
